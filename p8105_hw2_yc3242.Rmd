---
title: "p8105_hw2_yc3242"
author: "Youn Kyeong Chang (uni# yc3242)"
date: "October 3, 2018"
output: github_document
---

I used the tidyverse library through the whole problem set.

```{r}
library(tidyverse)
```


## Problem 1

First, I loaded and cleaned dataset for problem 1. 

```{r data import}
nyc_data = 
  read_csv(file = "./hw2_data/NYC_Transit_Subway_Entrance_And_Exit_Data.csv") %>% 
  janitor::clean_names() %>% 
  select(line:entry, vending, ada) %>% 
  mutate(entry = recode(entry, "YES" = TRUE, "NO" = FALSE))
```

This NYC Transit data (`nyc_data`) is composed of *line, station name, its latitude and longitude, routes it serves, entrance type, whether or not you can enter the station, presence of ticket vending machine*, and *ADA compliance*. These variables were selected from `NYC_Transit_Subway_Entrance_And_Exit_Data.csv` original dataset which was followed by `clean_names()` function in the janitor library. After selecting variables process, `entry` variable was converted from character variable to logical variable. The size of the NYC Transit data is `r nrow(nyc_data)` rows and `r ncol(nyc_data)` columns. These data are not tidy because there are many duplicated rows. 

To remove duplicated rows, I used `distinct()` function as below:

```{r}
nyc_data = distinct(nyc_data)
```

The **size** of the NYC Transit data is now `r nrow(nyc_data)` rows and `r ncol(nyc_data)` columns.

### Questions

(1) How many distinct stations are there? 

```{r distinct_stations, eval = FALSE}
nyc_data %>% 
  distinct(nyc_data, line, station_name, .keep_all = TRUE) %>% 
  count()
```

There are **465** distinct stations.

(2) How many stations are ADA compliant?

```{r ada, eval = FALSE}
nyc_data %>% 
  distinct(nyc_data, line, station_name, .keep_all = TRUE) %>% 
  filter(ada == TRUE) %>% 
  count(ada)
```

There are **84** ADA compliant stations.

(3) What proportion of station entrances / exits without vending allow entrance?

```{r proportion, eval = FALSE}
nyc_data %>% 
  filter(vending == "NO") %>% 
  summarise(mean(entry == TRUE))
```

The proportion of station entrances / exits without vending allow entrance is **0.385**.

Reformat data so that route number and route name are distinct variables. How many distinct stations serve the A train? Of the stations that serve the A train, how many are ADA compliant?


